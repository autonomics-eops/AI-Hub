<fragment>
    <choose>
        <when condition="@( new [] { &quot;subscription-ccoe&quot;, &quot;sub-test&quot; }.Contains(context.Subscription.Id) &amp;&amp; (string)context.Variables[&quot;deployment-id&quot;] != &quot;gpt-4o&quot;)">
            <return-response>
                <set-status code="403" reason="Forbidden" />
                <set-body>@(&quot;This subscription is only authorized to use 'gpt-4o' model.&quot;)</set-body>
            </return-response>
        </when>
        <when condition="@( !(new [] { &quot;subscription-ccoe&quot;, &quot;sub-test&quot; }.Contains(context.Subscription.Id)) &amp;&amp; (string)context.Variables[&quot;deployment-id&quot;] == &quot;gpt-41-mini&quot;)">
            <return-response>
                <set-status code="403" reason="Forbidden" />
                <set-body>@(&quot;Access to 'gpt-41-mini' model is restricted for your subscription.&quot;)</set-body>
            </return-response>
        </when>
    </choose>
</fragment>
